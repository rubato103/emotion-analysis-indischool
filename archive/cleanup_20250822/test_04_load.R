# 04 μ¤ν¬λ¦½νΈ λ΅λ“ ν…μ¤νΈ
# μ΄ νμΌμ€ 04_batch_emotion_analysis.Rμ λ΅λ“ κ³Όμ •μ„ λ‹¨κ³„λ³„λ΅ ν…μ¤νΈν•©λ‹λ‹¤.

cat("π§ 04 μ¤ν¬λ¦½νΈ λ΅λ“ ν…μ¤νΈ μ‹μ‘\n")
cat(rep("=", 50), "\n")

# 1λ‹¨κ³„: ν„μ¬ μ‘μ—… λ””λ ‰ν† λ¦¬ ν™•μΈ
cat("1οΈβƒ£ μ‘μ—… λ””λ ‰ν† λ¦¬ ν™•μΈ\n")
wd <- getwd()
cat("ν„μ¬ λ””λ ‰ν† λ¦¬:", wd, "\n")

# 2λ‹¨κ³„: ν•„μ νμΌλ“¤ μ΅΄μ¬ ν™•μΈ
cat("\n2οΈβƒ£ ν•„μ νμΌ μ΅΄μ¬ ν™•μΈ\n")
required_files <- c("config.R", "utils.R", "analysis_tracker.R", "adaptive_sampling.R")
for (file in required_files) {
  if (file.exists(file)) {
    cat("β…", file, "- μ΅΄μ¬\n")
  } else {
    cat("β", file, "- μ—†μ\n")
  }
}

# 3λ‹¨κ³„: 04 μ¤ν¬λ¦½νΈ λ΅λ“ μ‹λ„
cat("\n3οΈβƒ£ 04 μ¤ν¬λ¦½νΈ λ΅λ“ μ‹λ„\n")
tryCatch({
  source("04_batch_emotion_analysis.R")
  cat("π‰ 04 μ¤ν¬λ¦½νΈ λ΅λ“ μ„±κ³µ!\n")
}, error = function(e) {
  cat("β 04 μ¤ν¬λ¦½νΈ λ΅λ“ μ‹¤ν¨:\n")
  cat("μ¤λ¥ λ©”μ‹μ§€:", e$message, "\n")
  cat("\nπ” λ¬Έμ  ν•΄κ²° λ°©λ²•:\n")
  cat("1. λ„λ½λ νμΌλ“¤μ„ ν™•μΈν•κ³  μƒμ„±ν•΄μ£Όμ„Έμ”\n")
  cat("2. R ν¨ν‚¤μ§€κ°€ μ„¤μΉλμ—λ”μ§€ ν™•μΈν•΄μ£Όμ„Έμ”\n")
  cat("3. API ν‚¤κ°€ μ„¤μ •λμ—λ”μ§€ ν™•μΈν•΄μ£Όμ„Έμ”\n")
})

cat(rep("=", 50), "\n")
cat("π§ ν…μ¤νΈ μ™„λ£\n")